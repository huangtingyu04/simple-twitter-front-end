(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20752fa2"],{8916:function(e,t,r){},"8cb5":function(e,t,r){"use strict";r("8916")},d641:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Navbar"),r("div",{staticClass:"wide-container"},[r("Spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"main"},[r("UserProfile",{attrs:{"current-user":e.currentUser,"initial-user":e.user},on:{refresh:e.refresh}}),0===e.tweets.length?r("div",{staticClass:"empty"},[e._v("使用者沒有任何推文")]):e._e(),r("TweetItems",{attrs:{"initial-tweets":e.tweets},on:{"toggle-tweet-reply":e.toggleTweetReply,"add-liked":e.addLiked,"delete-liked":e.deleteLiked}}),r("UserEditModal",{attrs:{"current-user":e.currentUser},on:{refresh:e.refresh}}),r("TweetReplyModal",{attrs:{"tweet-item":e.tweetItem,"current-user":e.currentUser},on:{refresh:e.refresh}}),r("TweetModal",{attrs:{"current-user":e.currentUser},on:{refresh:e.refresh}})],1),r("PopularUsersCard",{on:{refresh:e.refresh}})],1)],1)},n=[],a=r("1da1"),i=r("5530"),c=(r("7db0"),r("d3b7"),r("d81d"),r("96cf"),r("4cce")),u=r("2f62"),o=r("eae4"),d=r("d178"),w=r("9f73"),f=r("feb9"),h=r("eb69"),l=r("4287"),p=r("811a"),m=r("2375"),v=r("5a23"),b={name:"UserTweet",components:{Navbar:d["a"],UserProfile:w["a"],TweetItems:f["a"],UserEditModal:h["a"],TweetModal:l["a"],TweetReplyModal:p["a"],Spinner:m["a"],PopularUsersCard:v["a"]},data:function(){return{user:{},tweets:[],tweetItem:{},isLoading:!0}},computed:Object(i["a"])({},Object(u["b"])(["currentUser","isAuthenticated"])),created:function(){var e=this.$route.params.id;this.fetchTweet({userId:e}),this.fetchUser({userId:e})},beforeRouteUpdate:function(e,t,r){var s=e.params.id;this.fetchTweet({userId:s}),this.fetchUser({userId:s}),r()},methods:{fetchTweet:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.userId,r.prev=1,r.next=4,c["a"].getUserTweets({userId:s});case 4:if(n=r.sent,a=n.data,i=n.statusText,"OK"===i){r.next=8;break}throw new Error;case 8:t.tweets=a,t.isLoading=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](1),console.log(r.t0),o["a"].fire({title:"無法取得使用者推文資訊"});case 16:case"end":return r.stop()}}),r,null,[[1,12]])})))()},fetchUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.userId,r.prev=1,r.next=4,c["a"].getUser({userId:s});case 4:if(n=r.sent,a=n.data,i=n.statusText,"OK"===i){r.next=8;break}throw new Error;case 8:t.user=a,t.isLoading=!1,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()},toggleTweetReply:function(e){this.tweetItem=this.tweets.find((function(t){return t.id===e}))},addLiked:function(e){this.tweets=this.tweets.map((function(t){return t.id===e?Object(i["a"])(Object(i["a"])({},t),{},{tweetLikeCount:t.tweetLikeCount+1,isLike:!0}):t}))},deleteLiked:function(e){this.tweets=this.tweets.map((function(t){return t.id===e?Object(i["a"])(Object(i["a"])({},t),{},{tweetLikeCount:t.tweetLikeCount-1,isLike:!1}):t}))},refresh:function(){var e=this.$route.params.id;this.fetchTweet({userId:e}),this.fetchUser({userId:e})}}},g=b,k=(r("8cb5"),r("2877")),U=Object(k["a"])(g,s,n,!1,null,"40eed55c",null);t["default"]=U.exports}}]);
//# sourceMappingURL=chunk-20752fa2.9e910154.js.map