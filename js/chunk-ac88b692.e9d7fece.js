(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac88b692"],{"07cb":function(t,e,s){},bf63:function(t,e,s){"use strict";s("07cb")},d946:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-signin"},[t._m(0),s("div",{staticClass:"main-title"},[t._v("後台登入")]),s("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"input-field"},[s("label",{attrs:{for:"account"}},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"account",name:"account",id:"account",required:"",autofocus:"",placeholder:"Account"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("span",{staticClass:"symbol"},[t._v("@")])]),s("div",{staticClass:"input-field"},[s("label",{attrs:{for:"password"}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",required:"",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn-main",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 登入 ")]),s("div",{staticClass:"link-group"},[s("router-link",{staticClass:"btn-blue",attrs:{to:"/signin"}},[t._v("前台登入")])],1)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("c4f5")}})])}],n=s("1da1"),o=(s("96cf"),s("7696")),i=s("eae4"),c={data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.account&&t.password){e.next=4;break}return i["a"].fire({title:"請填入account 或 password"}),e.abrupt("return");case 4:return t.isProcessing=!0,e.next=7,o["a"].signIn({account:t.account,password:t.password});case 7:if(s=e.sent,a=s.data,r=s.statusText,"success"===a.status&&"OK"===r){e.next=11;break}throw new Error(a.message);case 11:if("user"!==a.user.role){e.next=15;break}return i["a"].fire({title:"請至前台登入"}),t.$router.push("/signin"),e.abrupt("return");case 15:localStorage.setItem("token",a.token),t.isProcessing=!1,i["b"].fire({title:"已成功登入"}),t.$router.push("/admin/tweets"),e.next=26;break;case 21:e.prev=21,e.t0=e["catch"](0),console.log(e.t0),t.isProcessing=!1,i["a"].fire({title:"無法登入--".concat(e.t0.message)});case 26:case"end":return e.stop()}}),e,null,[[0,21]])})))()}}},u=c,l=(s("bf63"),s("2877")),p=Object(l["a"])(u,a,r,!1,null,"73892809",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ac88b692.e9d7fece.js.map