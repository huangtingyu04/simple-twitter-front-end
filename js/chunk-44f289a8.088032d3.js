(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f289a8"],{"17f7":function(e,t,r){"use strict";r("4910")},"369c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar"),a("div",{staticClass:"wide-container"},[a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[a("img",{staticClass:"top-back",attrs:{src:r("6ddb"),alt:""},on:{click:function(t){return e.$router.back()}}}),a("div",{staticClass:"top-title"},[a("div",{staticClass:"top-title-name"},[e._v(e._s(e.name))]),a("div",{staticClass:"top-title-tweet"},[e._v(" "+e._s(e.tweetsNum)),a("span",{staticClass:"top-title-tweet-count"},[e._v(" 推文")])])])]),a("div",{staticClass:"user-follow"},[a("FollowNavPills",{attrs:{userId:e.id}}),e._l(e.followers,(function(t){return a("FollowItems",{key:t.id,attrs:{"initial-follower":t},on:{refresh:e.refresh}})}))],2)]),a("PopularUsersCard",{on:{refresh:e.refresh}})],1)],1)},n=[],s=r("1da1"),o=r("5530"),i=(r("96cf"),r("b0c0"),r("d178")),l=r("6a0f"),c=r("ace1"),u=r("5a23"),f=r("2f62"),d=r("4cce"),w=r("eae4"),A={name:"UserFollowers",components:{Navbar:i["a"],FollowNavPills:l["a"],FollowItems:c["a"],PopularUsersCard:u["a"]},computed:Object(o["a"])({},Object(f["b"])(["currentUser","isAuthenticated"])),data:function(){return{id:-1,name:"",tweetsNum:0,followers:[]}},created:function(){var e=this.$route.params.id;this.fetchUser({userId:e})},beforeRouteUpdate:function(e,t,r){var a=e.params.id;this.fetchUser({userId:a}),r()},methods:{fetchUser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i,l,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.userId,r.prev=1,r.next=4,d["a"].getUser({userId:a});case 4:if(n=r.sent,s=n.data,o=n.statusText,"OK"===o){r.next=8;break}throw new Error;case 8:i=s.id,l=s.name,c=s.Followers,u=s.tweetsCount,t.id=i,t.name=l,t.followers=c,t.tweetsNum=u,r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),w["a"].fire({title:"無法取得追蹤者資訊"});case 18:case"end":return r.stop()}}),r,null,[[1,15]])})))()},refresh:function(){var e=this.$route.params.id;this.fetchUser({userId:e})}}},v=A,p=(r("17f7"),r("2877")),h=Object(p["a"])(v,a,n,!1,null,"f218bd26",null);t["default"]=h.exports},"408a":function(e,t,r){var a=r("e330");e.exports=a(1..valueOf)},4910:function(e,t,r){},"6a0f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ul",{staticClass:"nav nav-pills"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followers",params:{id:e.userId}}}},[e._v("跟隨者")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followings",params:{id:e.userId}}}},[e._v("正在跟隨")])],1)])])},n=[],s=(r("a9e3"),{name:"FollowNavPills",props:{userId:{type:[String,Number],require:!0}}}),o=s,i=(r("d293"),r("2877")),l=Object(i["a"])(o,a,n,!1,null,"fe1bbcde",null);t["a"]=l.exports},"6ddb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE/SURBVHgB7dzBbYNAEAXQSSpIOqAEd45TAS2kk7gDgqUg+5KYldnMJH5PmgsSB/4XAsRqIwAAAAAAAAAg17DMtMzHMvMy49cxfsEhLsFfz/nYEHT1XfjrTEE3t8Jf7wI62BL+OuysJfxjsKuW8D2Ed9Ya/iHYjfATCT+R8BMJP5HwEwk/kfATCT+R8BMJP5HwEwk/kfATCT+R8BMJP1FL+P9xxkj8OzfEY4d/fVcPkWCMvxva3jNFo6e43xysTsu8tpzwHPc7BauXaLRHAe/B6i0SDOEhPEfyOqVHfg09X/cUBRaJ+RArQAkFKKEAJRSghAKUUIASClBCAUooQAkFKKEAJRSghAKUUIASClBCAUoowFYFBbSUMAVdbC3BfkEdbS2Bjm6VcAy6s2lfAUNcFgGXWYcDAAAAAAAAAD/5BDLEPVJF20ssAAAAAElFTkSuQmCC"},7156:function(e,t,r){var a=r("1626"),n=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var o,i;return s&&a(o=t.constructor)&&o!==r&&n(i=o.prototype)&&i!==r.prototype&&s(e,i),e}},"762c":function(e,t,r){"use strict";r("bd20")},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),s=r("e330"),o=r("94ca"),i=r("6eeb"),l=r("1a2d"),c=r("7156"),u=r("3a9b"),f=r("d9b5"),d=r("c04e"),w=r("d039"),A=r("241c").f,v=r("06cf").f,p=r("9bf2").f,h=r("408a"),m=r("58a8").trim,b="Number",g=n[b],C=g.prototype,F=n.TypeError,I=s("".slice),k=s("".charCodeAt),E=function(e){var t=d(e,"number");return"bigint"==typeof t?t:N(t)},N=function(e){var t,r,a,n,s,o,i,l,c=d(e,"number");if(f(c))throw F("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),t=k(c,0),43===t||45===t){if(r=k(c,2),88===r||120===r)return NaN}else if(48===t){switch(k(c,1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+c}for(s=I(c,2),o=s.length,i=0;i<o;i++)if(l=k(s,i),l<48||l>n)return NaN;return parseInt(s,a)}return+c};if(o(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,U=function(e){var t=arguments.length<1?0:g(E(e)),r=this;return u(C,r)&&w((function(){h(r)}))?c(Object(t),r,U):t},_=a?A(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;_.length>O;O++)l(g,x=_[O])&&!l(U,x)&&p(U,x,v(g,x));U.prototype=C,C.constructor=U,i(n,b,U)}},ace1:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"follow"},[r("img",{staticClass:"follow-icon",attrs:{src:e._f("emptyImage")(e.follower.avatar)}}),r("div",{staticClass:"follow-content"},[r("div",{staticClass:"follow-content-head"},[r("div",{staticClass:"follow-content-head-title"},[r("router-link",{staticClass:"follow-content-head-title-name",attrs:{to:{name:"user-tweet",params:{id:e.follower.id}}}},[e._v(e._s(e.follower.name))]),r("div",{staticClass:"follow-content-head-title-account"},[e._v(" @"+e._s(e.follower.account)+" ")])],1),e.isFollowing?r("button",{directives:[{name:"show",rawName:"v-show",value:!(e.follower.id===e.currentUser.id),expression:"!(follower.id === currentUser.id)"}],staticClass:"unfollow",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.deleteFollow(e.follower.id)}}},[e._v(" 正在跟隨 ")]):r("button",{directives:[{name:"show",rawName:"v-show",value:!(e.follower.id===e.currentUser.id),expression:"!(follower.id === currentUser.id)"}],staticClass:"isfollow",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addFollow(e.follower.id)}}},[e._v(" 跟隨 ")])]),r("div",{staticClass:"follow-content-body"},[e._v(e._s(e.follower.introduction))])])])},n=[],s=r("1da1"),o=r("5530"),i=(r("b0c0"),r("96cf"),r("2708")),l=r("2f62"),c=r("c75e"),u=r("4cce"),f={name:"FollowItems",mixins:[i["a"]],props:{initialFollower:{type:Object,required:!0}},data:function(){return{follower:{id:0,name:"",account:"",avatar:"",introduction:""},isFollowing:!1}},computed:Object(o["a"])({},Object(l["b"])(["currentUser","isAuthenticated"])),watch:{initialFollower:function(e){this.follower=Object(o["a"])(Object(o["a"])({},this.follower),e)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].getUser({userId:e.initialFollower.id});case 2:r=t.sent,a=r.data,e.isFollowing=a.isFollower,e.fetchData(),e.handleFollow();case 7:case"end":return t.stop()}}),t)})))()},methods:{fetchData:function(){var e=this.initialFollower,t=e.id,r=e.name,a=e.account,n=e.avatar,s=e.introduction;this.follower={id:t,name:r,account:a,avatar:n,introduction:s}},addFollow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={id:e},t.isFollowing=!0,r.next=5,u["a"].addFollow({id:a});case 5:if(n=r.sent,s=n.data,"success"===s.status){r.next=9;break}throw new Error;case 9:t.$emit("refresh"),c["a"].$emit("refresh"),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},deleteFollow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isFollowing=!1,r.next=4,u["a"].deleteFollow({userId:e});case 4:if(a=r.sent,n=a.data,"success"===n.status){r.next=8;break}throw new Error;case 8:t.$emit("refresh"),c["a"].$emit("refresh"),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},handleFollow:function(){var e=this;c["a"].$on("refresh",(function(){e.fetchData()}))}}},d=f,w=(r("762c"),r("2877")),A=Object(w["a"])(d,a,n,!1,null,"a09f399e",null);t["a"]=A.exports},bd20:function(e,t,r){},d293:function(e,t,r){"use strict";r("f07a")},f07a:function(e,t,r){}}]);
//# sourceMappingURL=chunk-44f289a8.088032d3.js.map